<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Admin Dashboard | BullRunPro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        *{
            margin:0;
            padding:0;
            box-sizing:border-box;
            font-family:'Segoe UI', sans-serif;
        }

        body{
            background:#f4f4f4;
            transition:0.4s ease;
        }

        /* ===== STICKY HEADER ===== */
        header{
            position:sticky;
            top:0;
            z-index:1000;
            background:#000;
            color:white;
            padding:12px 20px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            flex-wrap:wrap;
            box-shadow:0 4px 15px rgba(0,0,0,0.4);
        }

        .logo-section{
            display:flex;
            align-items:center;
            gap:10px;
        }

        .logo{
            width:45px;
            height:45px;
            border-radius:50%;
            border:2px solid orange;
        }

        header h1{
            font-size:18px;
        }

        .top-buttons{
            display:flex;
            gap:10px;
            flex-wrap:wrap;
        }

        .top-buttons button,
        .top-buttons a{
            font-size:13px;
            padding:7px 14px;
            border-radius:25px;
            border:2px solid white;
            cursor:pointer;
            text-decoration:none;
            background:white;
            color:black;
            font-weight:bold;
            transition:0.3s;
        }

        .top-buttons button:hover,
        .top-buttons a:hover{
            background:orange;
            border-color:orange;
        }

        .admin-btn{
            background:orange !important;
            border-color:orange !important;
        }

        .dark-btn{
            background:black !important;
            color:white !important;
        }

        /* ===== DASHBOARD ===== */
        .container{
            width:90%;
            max-width:1100px;
            margin:40px auto;
            text-align:center;
        }

        .dashboard-cards{
            display:flex;
            flex-wrap:wrap;
            gap:25px;
            justify-content:center;
            margin-bottom:40px;
        }

        .stat-card{
            background:white;
            width:250px;
            padding:30px;
            border-radius:15px;
            box-shadow:0 10px 25px rgba(0,0,0,0.08);
            transition:0.3s;
        }

        .stat-card:hover{
            transform:translateY(-8px);
        }

        .stat-card h3{
            color:#ff6600;
            margin-bottom:15px;
        }

        .stat-number{
            font-size:28px;
            font-weight:bold;
        }

        .action-cards{
            display:flex;
            flex-wrap:wrap;
            gap:25px;
            justify-content:center;
        }

        .action-card{
            background:white;
            width:260px;
            padding:30px;
            border-radius:15px;
            box-shadow:0 8px 20px rgba(0,0,0,0.08);
            transition:0.3s;
        }

        .action-card:hover{
            transform:translateY(-6px);
        }

        .action-card h3{
            margin-bottom:20px;
            color:#ff6600;
        }

        .action-card a{
            display:inline-block;
            padding:10px 18px;
            border-radius:8px;
            text-decoration:none;
            font-weight:bold;
            background:black;
            color:white;
            transition:0.3s;
        }

        .action-card a:hover{
            background:#ff6600;
        }

        /* ===== DARK MODE ===== */
        .dark-mode{
            background:#121212;
            color:white;
        }

        .dark-mode .stat-card,
        .dark-mode .action-card{
            background:#1e1e1e;
            color:white;
        }

        /* ===== MOBILE ===== */
        @media(max-width:768px){
            header{
                flex-direction:column;
                align-items:flex-start;
                gap:10px;
            }

            .stat-card,
            .action-card{
                width:100%;
            }
        }
    </style>
</head>

<body>

<header>
    <div class="logo-section">
        <img src="images/img8.jpeg" class="logo">
        <h1 id="dashboardTitle">ADMIN DASHBOARD</h1>
    </div>

    <div class="top-buttons">
        <button onclick="switchLanguage('en')">English</button>
        <button onclick="switchLanguage('mr')">मराठी</button>
        <button onclick="toggleDarkMode()" class="dark-btn">Dark</button>
        <a th:href="@{/}" >Home</a>
        <a th:href="@{/logout}" class="admin-btn">Logout</a>
    </div>
</header>

<div class="container">

    <h2 id="welcomeText">Welcome, Organiser</h2>

    <!-- STATISTICS -->
    <div class="dashboard-cards">

        <div class="stat-card">
            <h3>Total Racers</h3>
            <div class="stat-number" id="racerCount"
                 th:text="${totalRacers}">0</div>
        </div>

        <div class="stat-card">
            <h3>Total Groups</h3>
            <div class="stat-number"
                 th:text="${totalGroups}">0</div>
        </div>

        <div class="stat-card">
            <h3>Today's Registrations</h3>
            <div class="stat-number"
                 th:text="${todayRegistrations}">0</div>
        </div>

    </div>

    <!-- ACTIONS -->
    <div class="action-cards">

        <div class="action-card">
            <h3>View All Racers</h3>
            <a th:href="@{/admin/racers}">Open</a>
        </div>

        <div class="action-card">
            <h3>Manage Groups</h3>
            <a th:href="@{/admin/groups}">Open</a>
        </div>

    </div>

</div>

<footer style="text-align:center;padding:20px;background:black;color:white;margin-top:40px;">
    © 2026 BullRunPro
</footer>

<script>
    /* ===== DARK MODE SAVE ===== */
    if(localStorage.getItem("darkMode") === "enabled"){
        document.body.classList.add("dark-mode");
    }

    function toggleDarkMode(){
        document.body.classList.toggle("dark-mode");
        if(document.body.classList.contains("dark-mode")){
            localStorage.setItem("darkMode","enabled");
        }else{
            localStorage.setItem("darkMode","disabled");
        }
    }

    /* ===== ANIMATED COUNTER ===== */
    let counter = document.getElementById("racerCount");
    let target = parseInt(counter.innerText);
    let count = 0;
    let speed = 20;

    let updateCounter = setInterval(()=>{
        count += Math.ceil(target/50);
        if(count >= target){
            counter.innerText = target;
            clearInterval(updateCounter);
        }else{
            counter.innerText = count;
        }
    },speed);

    /* ===== LANGUAGE SAVE ===== */
    function switchLanguage(lang){
        localStorage.setItem("language", lang);
        if(lang === 'mr'){
            document.getElementById("dashboardTitle").innerText =
            "प्रशासक डॅशबोर्ड";
            document.getElementById("welcomeText").innerText =
            "स्वागत आहे, आयोजक";
        } else {
            location.reload();
        }
    }

    if(localStorage.getItem("language") === "mr"){
        switchLanguage("mr");
    }
</script>

</body>
</html>